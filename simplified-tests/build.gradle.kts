android {
    packaging {
        jniLibs {
            keepDebugSymbols.add("lib/**/*.so")

            /*
             * Various components (R2, the PDF library, LCP, etc) include this shared library.
             */

            pickFirsts.add("lib/arm64-v8a/libc++_shared.so")
            pickFirsts.add("lib/armeabi-v7a/libc++_shared.so")
            pickFirsts.add("lib/x86/libc++_shared.so")
            pickFirsts.add("lib/x86_64/libc++_shared.so")
        }
    }
}

afterEvaluate {
    tasks.matching { task -> task.name.contains("UnitTest") }
        .forEach { task -> task.enabled = true }
}

val dependencyObjects = listOf(
    project(":simplified-accessibility"),
    project(":simplified-accounts-api"),
    project(":simplified-accounts-database"),
    project(":simplified-accounts-database-api"),
    project(":simplified-accounts-json"),
    project(":simplified-accounts-registry"),
    project(":simplified-accounts-registry-api"),
    project(":simplified-accounts-source-filebased"),
    project(":simplified-accounts-source-nyplregistry"),
    project(":simplified-accounts-source-spi"),
    project(":simplified-adobe-extensions"),
    project(":simplified-analytics-api"),
    project(":simplified-analytics-circulation"),
    project(":simplified-android-ktx"),
    project(":simplified-announcements"),
    project(":simplified-bookmarks"),
    project(":simplified-bookmarks-api"),
    project(":simplified-books-api"),
    project(":simplified-books-audio"),
    project(":simplified-books-borrowing"),
    project(":simplified-books-bundled-api"),
    project(":simplified-books-controller"),
    project(":simplified-books-controller-api"),
    project(":simplified-books-covers"),
    project(":simplified-books-database"),
    project(":simplified-books-database-api"),
    project(":simplified-books-formats"),
    project(":simplified-books-formats-api"),
    project(":simplified-books-preview"),
    project(":simplified-books-registry-api"),
    project(":simplified-books-time-tracking"),
    project(":simplified-boot-api"),
    project(":simplified-buildconfig-api"),
    project(":simplified-content-api"),
    project(":simplified-crashlytics"),
    project(":simplified-crashlytics-api"),
    project(":simplified-deeplinks-controller-api"),
    project(":simplified-documents"),
    project(":simplified-feeds-api"),
    project(":simplified-files"),
    project(":simplified-futures"),
    project(":simplified-json-core"),
    project(":simplified-lcp"),
    project(":simplified-links"),
    project(":simplified-links-json"),
    project(":simplified-main"),
    project(":simplified-mdc"),
    project(":simplified-metrics"),
    project(":simplified-metrics-api"),
    project(":simplified-migration-api"),
    project(":simplified-migration-spi"),
    project(":simplified-networkconnectivity"),
    project(":simplified-networkconnectivity-api"),
    project(":simplified-notifications"),
    project(":simplified-oauth"),
    project(":simplified-opds-auth-document"),
    project(":simplified-opds-auth-document-api"),
    project(":simplified-opds-core"),
    project(":simplified-opds2"),
    project(":simplified-opds2-irradia"),
    project(":simplified-opds2-parser-api"),
    project(":simplified-opds2-r2"),
    project(":simplified-parser-api"),
    project(":simplified-patron"),
    project(":simplified-patron-api"),
    project(":simplified-presentableerror-api"),
    project(":simplified-profiles"),
    project(":simplified-profiles-api"),
    project(":simplified-profiles-controller-api"),
    project(":simplified-reader-api"),
    project(":simplified-reports"),
    project(":simplified-services-api"),
    project(":simplified-taskrecorder-api"),
    project(":simplified-tenprint"),
    project(":simplified-threads"),
    project(":simplified-ui-accounts"),
    project(":simplified-ui-announcements"),
    project(":simplified-ui-branding"),
    project(":simplified-ui-catalog"),
    project(":simplified-ui-errorpage"),
    project(":simplified-ui-images"),
    project(":simplified-ui-listeners-api"),
    project(":simplified-ui-navigation-tabs"),
    project(":simplified-ui-neutrality"),
    project(":simplified-ui-onboarding"),
    project(":simplified-ui-screen"),
    project(":simplified-ui-settings"),
    project(":simplified-ui-splash"),
    project(":simplified-ui-thread-api"),
    project(":simplified-ui-tutorial"),
    project(":simplified-viewer-api"),
    project(":simplified-viewer-audiobook"),
    project(":simplified-viewer-epub-readium2"),
    project(":simplified-viewer-pdf-pdfjs"),
    project(":simplified-viewer-preview"),
    project(":simplified-viewer-spi"),
    project(":simplified-webview"),

    libs.androidx.activity,
    libs.androidx.activity.ktx,
    libs.androidx.annotation,
    libs.androidx.appcompat,
    libs.androidx.cardview,
    libs.androidx.constraintlayout,
    libs.androidx.coordinatorlayout,
    libs.androidx.core,
    libs.androidx.core.ktx,
    libs.androidx.customview,
    libs.androidx.drawerlayout,
    libs.androidx.fragment,
    libs.androidx.fragment.ktx,
    libs.androidx.lifecycle.common,
    libs.androidx.lifecycle.extensions,
    libs.androidx.lifecycle.livedata,
    libs.androidx.lifecycle.livedata.core,
    libs.androidx.lifecycle.livedata.core.ktx,
    libs.androidx.lifecycle.livedata.ktx,
    libs.androidx.lifecycle.viewmodel,
    libs.androidx.lifecycle.viewmodel.savedstate,
    libs.androidx.media,
    libs.androidx.paging.common,
    libs.androidx.paging.common.ktx,
    libs.androidx.paging.runtime,
    libs.androidx.paging.runtime.ktx,
    libs.androidx.preference,
    libs.androidx.recycler.view,
    libs.androidx.savedstate,
    libs.androidx.swiperefreshlayout,
    libs.androidx.test.monitor,
    libs.androidx.viewpager2,
    libs.androidx.webkit,
    libs.apiguardian,
    libs.bouncycastle.bcprov,
    libs.bytebuddy,
    libs.bytebuddy.agent,
    libs.commons.compress,
    libs.conscrypt,
    libs.firebase.analytics,
    libs.firebase.crashlytics,
    libs.firebase.dynamic.links,
    libs.firebase.dynamic.links.ktx,
    libs.firebase.messaging,
    libs.google.failureaccess,
    libs.google.guava,
    libs.google.material,
    libs.play.services.base,
    libs.play.services.location,
    libs.play.services.measurement.api,
    libs.play.services.tasks,
    libs.hamcrest,
    libs.io7m.jfunctional,
    libs.io7m.jnull,
    libs.io7m.junreachable,
    libs.irradia.fieldrush.api,
    libs.irradia.fieldrush.vanilla,
    libs.irradia.mime.api,
    libs.irradia.mime.vanilla,
    libs.irradia.opds2.api,
    libs.irradia.opds2.lexical,
    libs.irradia.opds2.librarysimplified,
    libs.irradia.opds2.parser.api,
    libs.irradia.opds2.parser.extension.spi,
    libs.irradia.opds2.parser.librarysimplified,
    libs.irradia.opds2.parser.vanilla,
    libs.jackson.annotations,
    libs.jackson.core,
    libs.jackson.databind,
    libs.javax.annotation.api,
    libs.javax.inject,
    libs.jcip.annotations,
    libs.joda.time,
    libs.junit,
    libs.junit.jupiter.api,
    libs.junit.jupiter.engine,
    libs.junit.jupiter.vintage,
    libs.junit.platform.commons,
    libs.junit.platform.engine,
    libs.kotlinx.coroutines,
    libs.kotlin.reflect,
    libs.kotlin.stdlib,
    libs.logback.classic,
    libs.logback.core,
    libs.mockito.android,
    libs.mockito.core,
    libs.mockito.kotlin,
    libs.nano.httpd,
    libs.nano.httpd.nanolets,
    libs.nypl.readium,
    libs.objenesis,
    libs.okhttp3,
    libs.okhttp3.mockwebserver,
    libs.okio,
    libs.opentest,
    libs.org.json,
    libs.ow2,
    libs.ow2.asm,
    libs.ow2.asm.commons,
    libs.ow2.asm.tree,
    libs.palace.audiobook.api,
    libs.palace.audiobook.downloads,
    libs.palace.audiobook.feedbooks,
    libs.palace.audiobook.http,
    libs.palace.audiobook.lcp,
    libs.palace.audiobook.lcp.license.status,
    libs.palace.audiobook.license.check.api,
    libs.palace.audiobook.license.check.spi,
    libs.palace.audiobook.manifest.api,
    libs.palace.audiobook.manifest.fulfill.api,
    libs.palace.audiobook.manifest.fulfill.basic,
    libs.palace.audiobook.manifest.fulfill.opa,
    libs.palace.audiobook.manifest.fulfill.spi,
    libs.palace.audiobook.manifest.license.check.api,
    libs.palace.audiobook.manifest.parser.api,
    libs.palace.audiobook.manifest.parser.extension.spi,
    libs.palace.audiobook.manifest.parser.webpub,
    libs.palace.audiobook.open.access,
    libs.palace.audiobook.parser.api,
    libs.palace.audiobook.rbdigital,
    libs.palace.audiobook.views,
    libs.palace.drm.core,
    libs.palace.http.api,
    libs.palace.http.bearer.token,
    libs.palace.http.downloads,
    libs.palace.http.uri,
    libs.palace.http.vanilla,
    libs.palace.overdrive,
    libs.palace.readium2.api,
    libs.palace.readium2.vanilla,
    libs.palace.readium2.views,
    libs.pandora.bottom.navigator,
    libs.picasso,
    libs.r2.lcp,
    libs.r2.opds,
    libs.r2.shared,
    libs.r2.streamer,
    libs.reactive.streams,
    libs.robolectric,
    libs.robolectric.annotations,
    libs.robolectric.junit,
    libs.robolectric.nativeruntime,
    libs.robolectric.pluginapi,
    libs.robolectric.plugins.maven.dependency.resolver,
    libs.robolectric.resources,
    libs.robolectric.sandbox,
    libs.robolectric.shadowapi,
    libs.robolectric.shadows.framework,
    libs.robolectric.utils,
    libs.robolectric.utils.reflector,
    libs.rxandroid2,
    libs.rxjava,
    libs.rxjava2,
    libs.rxjava2.extensions,
    libs.service.wight.annotation,
    libs.service.wight.core,
    libs.slf4j,
    libs.transifex.sdk,
    libs.truecommons.cio,
    libs.truecommons.io,
    libs.truecommons.key.disable,
    libs.truecommons.key.spec,
    libs.truecommons.logging,
    libs.truecommons.services,
    libs.truecommons.shed,
    libs.truevfs.access,
    libs.truevfs.comp.zip,
    libs.truevfs.comp.zipdriver,
    libs.truevfs.driver.file,
    libs.truevfs.driver.zip,
    libs.truevfs.kernel.impl,
    libs.truevfs.kernel.spec,
    libs.ulid.generator,
)

dependencies {
    for (dep in dependencyObjects) {
        implementation(dep)
        testImplementation(dep)
    }
}
